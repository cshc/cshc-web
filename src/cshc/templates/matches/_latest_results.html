{% comment %}
This re-usable template displays the latest result for each team in the club.
Context should have a 'latest_results' list of Match objects.
{% endcomment %}

{% if latest_results %}
<div class="table-responsive">
  <table class="table table-sm table-hover">
    <thead>
      <tr>
        <th class="priority3"></th>
        <th>Team</th>
        <th class="text-center">Score</th>
        <th>Opposition</th>
        <th>Date</th>
        <th class="text-center">Report</th>
      </tr>
    </thead>
    <tbody>
    {% for m in latest_results %}
      <tr>
        <td class="priority3">
          {% include 'matches/_fixture_icon.html' with match=m %}
        </td>

        <td><a href="{{ m.our_team.get_absolute_url }}" title="Team page">{{ m.our_team|capfirst }}</a></td>
        <td class="text-center">{{ m.score_display }}</td>
        <td><a href="{{ m.opp_team.club.get_absolute_url }}" title="Opposition details">{{ m.opp_team.genderless_name }}</a></td>
        <td class="no-break"><a title="Matches on {{ m.date|date:"jS M" }}" href="#">{{ m.date|date:"jS M" }}</a></td>
        <td class="text-center">{% include 'matches/_match_link.html' with match=m %}</td>
      </tr>
    {% endfor %}
    </tbody>
  </table>
</div>
{% else %}
  <p class="lead">No recent results</p>
{% endif %}
